#
# Copyright IBM Corporation 2021
# This program and the accompanying materials are made
# available under the terms of the Eclipse Public License 2.0
# which is available at https://www.eclipse.org/legal/epl-2.0/
#
# SPDX-License-Identifier: EPL-2.0
#
# Contributors:
#   IBM Corporation - implementation
#
apiVersion: operators.coreos.com/v1alpha1
kind: ClusterServiceVersion
metadata:
  labels:
    operatorframework.io/arch.amd64: supported
  annotations:
    alm-examples: |-
      [
        {
          "apiVersion": "org.eclipse.che/v1",
          "kind": "CheCluster",
          "metadata": {
            "name": "wazi-codeready-workspaces"
          },
          "spec": {
            "license": {
              "accept": false
            },
            "auth": {
              "externalIdentityProvider": false,
              "identityProviderAdminUserName": "",
              "identityProviderClientId": "",
              "identityProviderPassword": "",
              "identityProviderRealm": "",
              "identityProviderURL": "",
              "initialOpenShiftOAuthUser": false,
              "oAuthClientName": "",
              "oAuthSecret": ""
            },
            "database": {
              "chePostgresDb": "",
              "chePostgresHostName": "",
              "chePostgresPassword": "",
              "chePostgresPort": "",
              "chePostgresUser": "",
              "externalDb": false
            },
            "devWorkspace": {
              "enable": false
            },
            "metrics": {
              "enable": true
            },
            "server": {
              "allowUserDefinedWorkspaceNamespaces": false,
              "cheClusterRoles": "",
              "cheFlavor": "codeready",
              "cheWorkspaceClusterRole": "",
              "gitSelfSignedCert": false,
              "nonProxyHosts": "",
              "proxyPassword": "",
              "proxyPort": "",
              "proxyURL": "",
              "proxyUser": "",
              "serverExposureStrategy": "",
              "serverTrustStoreConfigMapName": "",
              "tlsSupport": true,
              "useInternalClusterSVCNames": true,
              "workspaceNamespaceDefault": "idzee-codeready-<username>"
            },
            "storage": {
              "postgresPVCStorageClassName": "",
              "preCreateSubPaths": true,
              "pvcClaimSize": "1Gi",
              "pvcStrategy": "common",
              "workspacePVCStorageClassName": ""
            }
          }
        }
      ]
    capabilities: Seamless Upgrades
    categories: Developer Tools, OpenShift Optional
    certified: 'true'
    containerImage: registry.redhat.io/codeready-workspaces/crw-2-rhel8-operator@sha256:a24dc83d8cdd8af715f0c4f235dcba0736bf395b7029ceaed0b8a683da5f74e0
    createdAt: '2021-04-23T19:37:46+00:00'
    description: Personal z/OS cloud IDE for development and testing.
    operatorframework.io/suggested-namespace: idzee-codeready-workspaces
    operatorframework.io/cluster-monitoring: 'true'
    repository: https://github.com/IBM/wazi-codeready-workspaces-operator
    support: IBM
  name: idzee-codeready-operator.v1.2.5
  namespace: placeholder
spec:
  apiservicedefinitions: {}
  customresourcedefinitions:
    owned:
    - description: Personal z/OS cloud IDE for development and testing.
      displayName: IBM Wazi Developer for Workspaces
      kind: CheCluster
      name: checlusters.org.eclipse.che
      specDescriptors:
      - description: License Structure
        displayName: License
        path: license
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:text
      - description: Accept Terms and Conditions. https://ibm.biz/wazi-crw-license
        displayName: Accept License
        path: license.accept
        x-descriptors:
        - urn:alm:descriptor:com.tectonic.ui:booleanSwitch
      statusDescriptors:
      - description: IBM Wazi Developer for Workspaces - Status
        displayName: Status
        path: cheClusterRunning
        x-descriptors:
        - urn:alm:descriptor:io.kubernetes.phase
      - description: IBM Wazi Developer for Workspaces - URL Route
        displayName: IBM Wazi Developer for Workspaces URL
        path: cheURL
        x-descriptors:
        - urn:alm:descriptor:org.w3:link
      - description: IBM Wazi Developer for Workspaces - Che Server Version
        displayName: Che Server Version
        path: cheVersion
        x-descriptors:
        - urn:alm:descriptor:text
      - description: IBM Wazi Developer for Workspaces - Devfile Registry URL
        displayName: Devfile Registry URL
        path: devfileRegistryURL
        x-descriptors:
        - urn:alm:descriptor:org.w3:link
      - description: IBM Wazi Developer for Workspaces - Help URL
        displayName: Help URL
        path: helpLink
        x-descriptors:
        - urn:alm:descriptor:org.w3:link
      - description: IBM Wazi Developer for Workspaces - Keycloak SSO Admin Console
        displayName: Keycloak SSO Admin Console URL
        path: keycloakURL
        x-descriptors:
        - urn:alm:descriptor:org.w3:link
      - description: IBM Wazi Developer for Workspaces - Message
        displayName: Message
        path: message
        x-descriptors:
        - urn:alm:descriptor:text
      - description: IBM Wazi Developer for Workspaces - Identity Provider Credentials
        displayName: Identity Provider Credentials
        path: openShiftOAuthUserCredentialsSecret
        x-descriptors:
        - urn:alm:descriptor:text
      - description: IBM Wazi Developer for Workspaces - Plugin Registry URL
        displayName: Plugin Registry URL
        path: pluginRegistryURL
        x-descriptors:
        - urn:alm:descriptor:org.w3:link
      - description: IBM Wazi Developer for Workspaces - Reason
        displayName: Reason
        path: reason
        x-descriptors:
        - urn:alm:descriptor:io.kubernetes.phase:reason
        - urn:alm:descriptor:text
      version: v1
  description: |
    IBM Wazi Developer for Red Hat CodeReady Workspaces (IBM Wazi Developer for Workspaces), delivers cloud-native developer experience, enabling development and testing of IBM z/OS application components in containerized, z/OS sandbox environment on Red Hat OpenShift Container Platform running on x86 hardware, and providing capability to deploy applications into production on native z/OS running on IBM Z hardware. IBM Wazi Developer is a development environment that provides an in-browser IDE with a single-click developer workspace with the capabilities to code, edit, build, and debug.  
      
    IBM Wazi Developer for Workspaces is built on the Red Hat CodeReady Workspaces project. The core functionality for Red Hat CodeReady Workspaces is provided by an open-source project called Eclipse Che. IBM Wazi Developer for Workspaces uses Kubernetes and containers to provide your team with a consistent, secure, and zero-configuration development environment that interacts with your IBM Z platform.  
      
    IBM Wazi Developer for Workspaces provides a modern experience for mainframe software developers working with z/OS applications in the cloud. Powered by the open-source projects Zowe and Red Hat CodeReady Workspaces, IBM Wazi Developer for Workspaces offers an easy, streamlined on-boarding process to provide mainframe developers the tools they need. Using container technology and stacks, IBM Wazi Developer for Workspaces brings the necessary technology to the task at hand.

    ## Features

    IBM Wazi Developer for Workspaces provides a custom stack for mainframe developers with the all-in-one mainframe development package that includes the following capabilities:

    - Modern mainframe editor with rich language support for COBOL, JCL, Assembler (HLASM), and PL/I that provide language-specific features such as syntax highlighting, outline view, declaration hovering, code completion, snippets, a preview of copybooks, copybook navigation, and basic refactoring using [IBM Z Open Editor](https://marketplace.visualstudio.com/items?itemName=IBM.zopeneditor)
    - Source code management (SCM) integration to enable integration with any flavor of Git, a popular and modern parallel development SCM
    - Intelligent build capability that enables developers to perform a user build with IBM Dependency Based Build for any flavor of Git
    - Integrations that enable developers to work with z/OS resources such as MVS and UNIX files and JES jobs
    - Connectivity to Z host using [Zowe Explorer](https://marketplace.visualstudio.com/items?itemName=Zowe.vscode-extension-for-zowe)
    - Debugging COBOL and PL/I applications using [IBM Z Open Debug](https://developer.ibm.com/mainframe/2020/06/12/introducing-ibm-z-open-debug/)
    - Interacting with the [IBM Remote System Explorer API](https://ibm.github.io/zopeneditor-about/Docs/interact_zos_overview.html)
    - Mainframe Development package with custom plugin and devfile registry support using the [IBM Wazi Developer stack](https://github.com/IBM/wazi-codeready-workspaces)
      
    Read our official documentation on the [IBM Documentation](https://ibm.biz/wazi-crw-doc) site to learn more about IBM Wazi Developer. 

    ## Installing
    Press the **Install** button, select the namespace, choose the update strategy, click the Subscribe button, and wait for the **Succeeded** Operator status.

    When the operator is installed, create a new instance of the IBM Wazi Developer for Workspaces (click the **Create Instance** button).  

    IBM Wazi Developer for Workspaces spec contains all defaults (see below).

    You can start using the IBM Wazi Developer for Workspaces when the status is set to **Available**, and you see a URL.

    ### Defaults
    By default, the operator deploys IBM Wazi Developer for Workspaces with:

    - Bundled PostgreSQL and Keycloak
    - Per-Workspace PVC strategy
    - Auto-generated passwords
    - TLS mode (secure routes)
    - Built-in authentication (Keycloak)

    ### Installation Options
    IBM Wazi Developer operator installation options include:

    - Connection to external database and Keycloak
    - Configuration of default passwords and object names
    - PVC strategy (once shared PVC for all workspaces, PVC per workspace, or PVC per volume)
    - Authentication options

    #### External Database and Keycloak

    To instruct the operator to skip deploying PostgreSQL and Keycloak and connect to an existing DB and Keycloak instead:

    - set respective fields to `true` in a custom resource spec
    - provide the operator with connection and authentication details:
      
      `externalDb: true`


      `chePostgresHostname: 'yourPostgresHost'`


      `chePostgresPort: '5432'`


      `chePostgresUser: 'myuser'`


      `chePostgresPassword: 'mypass'`


      `chePostgresDb: 'mydb'`


      `externalIdentityProvider: true`


      `identityProviderURL: 'https://my-keycloak.com'`


      `identityProviderRealm: 'myrealm'`


      `identityProviderClientId: 'myClient'`

    #### Self-signed Certificates

    IBM Wazi Developer for Workspaces uses self-signed certificates by default.

    You can also manually create a secret:

    ```
    oc create secret generic self-signed-certificate  --from-file=/path/to/certificate/ca.crt -n=$codeReadyNamespace
    ```
  displayName: IBM Wazi Developer for Workspaces
  icon:
  - base64data: PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMzIgMzIiPjxkZWZzPjxzdHlsZT4uY2xzLTF7ZmlsbDojZmZmO30uY2xzLTJ7ZmlsbDp1cmwoI2xpbmVhci1ncmFkaWVudCk7fS5jbHMtM3ttYXNrOnVybCgjbWFzayk7fS5jbHMtNHtmaWxsOnVybCgjbGluZWFyLWdyYWRpZW50LTIpO30uY2xzLTV7ZmlsbDojMDYxZjgwO308L3N0eWxlPjxsaW5lYXJHcmFkaWVudCBpZD0ibGluZWFyLWdyYWRpZW50IiB4MT0iMTAwLjI3IiB5MT0iNS4wNyIgeDI9IjEwNC4xMyIgeTI9IjcuMyIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgtMC41LCAtMS41NiwgMC44NywgLTAuOSwgNzMuNTEsIDE4My45NikiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3Atb3BhY2l0eT0iMCIvPjxzdG9wIG9mZnNldD0iMC45Ii8+PC9saW5lYXJHcmFkaWVudD48bWFzayBpZD0ibWFzayIgeD0iMCIgeT0iMCIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBtYXNrVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0xNiwzMWEuOS45LDAsMCwxLS41LS4xNGwtMTItN0ExLDEsMCwwLDEsMywyM1Y5YTEsMSwwLDAsMSwuNS0uODZsMTItN2ExLDEsMCwwLDEsMSwwbDEyLDdBMSwxLDAsMCwxLDI5LDlhMSwxLDAsMCwxLS40OS44N2wtMTAsNi0xLTEuNzJMMjYsOSwxNiwzLjE2LDUsOS41N1YyMi40M2wxMSw2LjQxLDExLTYuNDFWMTVoMnY4YTEsMSwwLDAsMS0uNS44NmwtMTIsN0EuOS45LDAsMCwxLDE2LDMxWiIvPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMjYuMjUiIHk9IjE0LjUiIHdpZHRoPSIzLjA1IiBoZWlnaHQ9IjguMDYiLz48L21hc2s+PGxpbmVhckdyYWRpZW50IGlkPSJsaW5lYXItZ3JhZGllbnQtMiIgeTE9IjMyIiB4Mj0iMzIiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBvZmZzZXQ9IjAuMSIgc3RvcC1jb2xvcj0iI2I5OGNmZCIvPjxzdG9wIG9mZnNldD0iMC45IiBzdG9wLWNvbG9yPSIjNDE4YWZjIi8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PHRpdGxlPmFwcC1pY29uLWxpZ2h0LTwvdGl0bGU+PGcgaWQ9IkxheWVyXzMiIGRhdGEtbmFtZT0iTGF5ZXIgMyI+PGcgY2xhc3M9ImNscy0zIj48cmVjdCBjbGFzcz0iY2xzLTQiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIvPjwvZz48cGF0aCBjbGFzcz0iY2xzLTUiIGQ9Ik0xNiwyMGE0LDQsMCwxLDEsNC00QTQsNCwwLDAsMSwxNiwyMFptMC02YTIsMiwwLDEsMCwyLDJBMiwyLDAsMCwwLDE2LDE0WiIvPjwvZz48L3N2Zz4=
    mediatype: image/svg+xml
  install:
    spec:
      clusterPermissions:
      - rules:
        - apiGroups:
          - oauth.openshift.io
          resources:
          - oauthclients
          verbs:
          - create
          - get
          - delete
          - deletecollection
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - config.openshift.io
          resources:
          - oauths
          verbs:
          - get
          - list
          - watch
          - patch
        - apiGroups:
          - config.openshift.io
          resources:
          - infrastructures
          - proxies
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - user.openshift.io
          resources:
          - users
          verbs:
          - list
          - delete
        - apiGroups:
          - user.openshift.io
          resources:
          - identities
          verbs:
          - delete
        - apiGroups:
          - console.openshift.io
          resources:
          - consolelinks
          verbs:
          - get
          - list
          - create
          - update
          - patch
          - delete
        - apiGroups:
          - rbac.authorization.k8s.io
          resources:
          - clusterrolebindings
          verbs:
          - list
          - create
          - watch
          - update
          - get
          - delete
        - apiGroups:
          - rbac.authorization.k8s.io
          resources:
          - clusterroles
          verbs:
          - list
          - create
          - watch
          - update
          - get
          - delete
        - apiGroups:
          - authorization.openshift.io
          resources:
          - roles
          verbs:
          - get
          - create
          - delete
        - apiGroups:
          - authorization.openshift.io
          resources:
          - rolebindings
          verbs:
          - get
          - create
          - update
          - delete
        - apiGroups:
          - rbac.authorization.k8s.io
          resources:
          - roles
          verbs:
          - get
          - create
          - delete
          - list
          - update
          - watch
        - apiGroups:
          - rbac.authorization.k8s.io
          resources:
          - rolebindings
          verbs:
          - get
          - create
          - update
          - delete
          - list
          - watch
        - apiGroups:
          - org.eclipse.che
          resources:
          - checlusters
          - checlusters/finalizers
          verbs:
          - '*'
        - apiGroups:
          - project.openshift.io
          resources:
          - projectrequests
          verbs:
          - create
          - update
        - apiGroups:
          - ''
          resources:
          - namespaces
          verbs:
          - get
          - create
          - update
        - apiGroups:
          - project.openshift.io
          resources:
          - projects
          verbs:
          - get
        - apiGroups:
          - ''
          resources:
          - configmaps
          - persistentvolumeclaims
          - pods
          - secrets
          - serviceaccounts
          - services
          verbs:
          - '*'
        - apiGroups:
          - ''
          resources:
          - configmaps/status
          verbs:
          - get
          - update
          - patch
        - apiGroups:
          - ''
          resources:
          - pods/exec
          verbs:
          - create
        - apiGroups:
          - apps
          resources:
          - secrets
          verbs:
          - list
        - apiGroups:
          - apps
          - extensions
          resources:
          - deployments
          - replicasets
          verbs:
          - '*'
        - apiGroups:
          - route.openshift.io
          resources:
          - routes
          verbs:
          - '*'
        - apiGroups:
          - route.openshift.io
          resources:
          - routes/custom-host
          verbs:
          - create
        - apiGroups:
          - ''
          resources:
          - events
          verbs:
          - watch
          - create
          - patch
        - apiGroups:
          - monitoring.coreos.com
          resources:
          - servicemonitors
          verbs:
          - create
          - get
        - apiGroups:
          - batch
          resources:
          - jobs
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - apps
          resourceNames:
          - devworkspace-controller
          resources:
          - deployments/finalizers
          verbs:
          - update
        - apiGroups:
          - extensions
          resources:
          - ingresses
          verbs:
          - '*'
        - apiGroups:
          - workspace.devfile.io
          resources:
          - '*'
          verbs:
          - '*'
        - apiGroups:
          - controller.devfile.io
          resources:
          - '*'
          verbs:
          - '*'
        - apiGroups:
          - admissionregistration.k8s.io
          resources:
          - mutatingwebhookconfigurations
          - validatingwebhookconfigurations
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - operators.coreos.com
          resources:
          - subscriptions
          verbs:
          - get
        - apiGroups:
          - authentication.k8s.io
          resources:
          - tokenreviews
          verbs:
          - create
        - apiGroups:
          - authorization.k8s.io
          resources:
          - subjectaccessreviews
          verbs:
          - create
        - apiGroups:
          - apiextensions.k8s.io
          resources:
          - customresourcedefinitions
          verbs:
          - get
          - create
        - apiGroups:
          - ''
          resources:
          - namespaces
          verbs:
          - list
          - watch
        - apiGroups:
          - che.eclipse.org
          resources:
          - '*'
          verbs:
          - '*'
        - apiGroups:
          - che.eclipse.org
          resources:
          - chemanagers
          verbs:
          - '*'
        - apiGroups:
          - che.eclipse.org
          resources:
          - chemanagers/status
          verbs:
          - get
          - patch
          - update
        - apiGroups:
          - che.eclipse.org
          resources:
          - chemanagers/finalizers
          verbs:
          - update
        - apiGroups:
          - controller.devfile.io
          resources:
          - workspaceroutings
          verbs:
          - '*'
        - apiGroups:
          - controller.devfile.io
          resources:
          - workspaceroutings/finalizers
          verbs:
          - update
        - apiGroups:
          - controller.devfile.io
          resources:
          - workspaceroutings/status
          verbs:
          - get
          - patch
          - update
        - apiGroups:
          - ''
          resources:
          - configmap
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - apps
          resourceNames:
          - devworkspace-che-operator
          resources:
          - deployments/finalizers
          verbs:
          - update
        - nonResourceURLs:
          - /metrics
          verbs:
          - get
        serviceAccountName: wazi-codeready-operator
      - rules:
        - apiGroups:
          - ''
          resources:
          - namespaces
          verbs:
          - update
          - list
          - create
          - get
        serviceAccountName: che-namespace-editor
      deployments:
      - name: codeready-operator
        spec:
          replicas: 1
          selector:
            matchLabels:
              app: wazi-codeready-operator
          strategy:
            type: RollingUpdate
          template:
            metadata:
              annotations:
                productID: "3fbe9adb503d47a486bf5d138feb8fb9"
                productName: "IBM Developer for z/OS Enterprise Edition"
                productMetric: "VU_VALUE_UNIT"
                productChargedContainers: ""
                productVersion: "1.2.5"
              labels:
                app: wazi-codeready-operator
                app.kubernetes.io/component: wazi-codeready-operator
                app.kubernetes.io/instance: che
                app.kubernetes.io/managed-by: olm
                app.kubernetes.io/name: che
            spec:
              containers:
              - command:
                - /usr/local/bin/che-operator
                env:
                - name: CHE_FLAVOR
                  value: wazi-codeready
                - name: CHE_IDENTITY_POSTGRES_SECRET
                  value: che-identity-postgres-secret
                - name: CHE_IDENTITY_SECRET
                  value: che-identity-secret
                - name: CHE_POSTGRES_SECRET
                  value: che-postgres-secret
                - name: CHE_SERVER_TRUST_STORE_CONFIGMAP_NAME
                  value: ca-certs
                - name: CHE_VERSION
                  value: 2.8.0
                - name: CONSOLE_LINK_DISPLAY_NAME
                  value: IBM Wazi Developer
                - name: CONSOLE_LINK_IMAGE
                  value: /dashboard/assets/branding/loader.svg
                - name: CONSOLE_LINK_NAME
                  value: che
                - name: CONSOLE_LINK_SECTION
                  value: Red Hat Applications
                - name: OPERATOR_NAME
                  value: wazi-codeready-operator
                - name: POD_NAME
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.name
                - name: RELATED_IMAGE_che_server
                  value: registry.redhat.io/codeready-workspaces/server-rhel8@sha256:6635e8c160c8c73c00c9b05eccab08a4ff23d344f102ef0097a3798bf108217a
                - name: RELATED_IMAGE_che_server_secure_exposer_jwt_proxy_image
                  value: registry.redhat.io/codeready-workspaces/jwtproxy-rhel8@sha256:3f40bb8a2022545ac06a0b41cdb0239fdacfc34b37faffb21348a2041e96d0f2
                - name: RELATED_IMAGE_che_workspace_plugin_broker_artifacts
                  value: registry.redhat.io/codeready-workspaces/pluginbroker-artifacts-rhel8@sha256:cda306cb7e5c42faa6ab43218d39984d4955134b3ca9654968c28b05e0796c3a
                - name: RELATED_IMAGE_che_workspace_plugin_broker_metadata
                  value: registry.redhat.io/codeready-workspaces/pluginbroker-metadata-rhel8@sha256:0143a80b869620af08a0d60165dc9d13357a79e7243502832326cf053c17ee38
                - name: RELATED_IMAGE_codeready_workspaces_machineexec
                  value: registry.redhat.io/codeready-workspaces/machineexec-rhel8@sha256:19a8daf7f9adde981dcd588b0526fa7682111097849f60a9b0e81137bdde8f6c
                - name: RELATED_IMAGE_codeready_workspaces_plugin_java11
                  value: registry.redhat.io/codeready-workspaces/plugin-java11-rhel8@sha256:d93195134cef6351b1f9e3165fecc09f464dc99ab33d11b68fadd613d04d1636
                - name: RELATED_IMAGE_codeready_workspaces_plugin_java11_openj9
                  value: registry.redhat.io/codeready-workspaces/plugin-java11-openj9-rhel8@sha256:ee7c41053b4c8615886745566fc306dbf5bd1b1d367e525266477ae17a26673e
                - name: RELATED_IMAGE_codeready_workspaces_plugin_java11_ppc64le
                  value: registry.redhat.io/codeready-workspaces/plugin-java11-openj9-rhel8@sha256:ee7c41053b4c8615886745566fc306dbf5bd1b1d367e525266477ae17a26673e
                - name: RELATED_IMAGE_codeready_workspaces_plugin_java11_s390x
                  value: registry.redhat.io/codeready-workspaces/plugin-java11-openj9-rhel8@sha256:ee7c41053b4c8615886745566fc306dbf5bd1b1d367e525266477ae17a26673e
                - name: RELATED_IMAGE_codeready_workspaces_plugin_java8
                  value: registry.redhat.io/codeready-workspaces/plugin-java8-rhel8@sha256:ecaa9ddef5ca8db9552f1b5e66f7aacb19d72e488d718d8135b1e1d9f66a1a7a
                - name: RELATED_IMAGE_codeready_workspaces_plugin_java8_openj9
                  value: registry.redhat.io/codeready-workspaces/plugin-java8-openj9-rhel8@sha256:8d8948134405e45bdd895932afa85b6cf0fbfe4e9bb58ae9753d233ddf74672b
                - name: RELATED_IMAGE_codeready_workspaces_plugin_java8_ppc64le
                  value: registry.redhat.io/codeready-workspaces/plugin-java8-openj9-rhel8@sha256:8d8948134405e45bdd895932afa85b6cf0fbfe4e9bb58ae9753d233ddf74672b
                - name: RELATED_IMAGE_codeready_workspaces_plugin_java8_s390x
                  value: registry.redhat.io/codeready-workspaces/plugin-java8-openj9-rhel8@sha256:8d8948134405e45bdd895932afa85b6cf0fbfe4e9bb58ae9753d233ddf74672b
                - name: RELATED_IMAGE_codeready_workspaces_plugin_kubernetes
                  value: registry.redhat.io/codeready-workspaces/plugin-kubernetes-rhel8@sha256:cf1d0e24f8bae0f87cae0b1577dfd25e124437d78031d7076fabebb2dcf48d7f
                - name: RELATED_IMAGE_codeready_workspaces_plugin_openshift
                  value: registry.redhat.io/codeready-workspaces/plugin-openshift-rhel8@sha256:13ce6d8fdeeea0cc5a220ebe8abd2811c31bb2a424736759be9a6df15c8f77fd
                - name: RELATED_IMAGE_codeready_workspaces_stacks_cpp
                  value: registry.redhat.io/codeready-workspaces/stacks-cpp-rhel8@sha256:06cd3600c3b6c3dca0451b10b46961fd0db4140c7dddc4f9637984022f5cfc09
                - name: RELATED_IMAGE_codeready_workspaces_stacks_dotnet
                  value: registry.redhat.io/codeready-workspaces/stacks-dotnet-rhel8@sha256:ea77974b206c7d7abcad5cd32149f6bb669d3cf867135553af4d7dddd24ba9cf
                - name: RELATED_IMAGE_codeready_workspaces_stacks_golang
                  value: registry.redhat.io/codeready-workspaces/stacks-golang-rhel8@sha256:e01d32e58a55a552f0d35b9a6210b7a2cc8ed444f8ae54a24113dcc85f4d80db
                - name: RELATED_IMAGE_codeready_workspaces_stacks_php
                  value: registry.redhat.io/codeready-workspaces/stacks-php-rhel8@sha256:95c324ed660924bf76e10b461d75aa5be2a323f26e5033239f7cbfe1ec10b26e
                - name: RELATED_IMAGE_codeready_workspaces_theia
                  value: registry.redhat.io/codeready-workspaces/theia-rhel8@sha256:de36fdf140ba6367e6edf577d6dbaffa270e5e5ecf0890e498f5907f8287858f
                - name: RELATED_IMAGE_codeready_workspaces_theia_endpoint
                  value: registry.redhat.io/codeready-workspaces/theia-endpoint-rhel8@sha256:60c84fca55a997a6aab4ca07b8ff7d859948c1f525adeba2ae624c84fe059a56
                - name: RELATED_IMAGE_devfile_registry
                  value: docker.io/ibmcom/wazi-code-dev-file@sha256:fe366163f7e678ccac7c67b4ee86cd1d5be34b5287064c22447f5c58c1187333
                - name: RELATED_IMAGE_jboss_eap_7_eap73_openjdk8_openshift_rhel7
                  value: registry.redhat.io/jboss-eap-7/eap73-openjdk8-openshift-rhel7@sha256:d16cfe30eaf20a157cd5d5980a6c34f3fcbcfd2fd225e670a0138d81007dd919
                - name: RELATED_IMAGE_jboss_eap_7_eap_xp2_openj9_11_openshift
                  value: registry.redhat.io/jboss-eap-7/eap-xp2-openj9-11-openshift-rhel8@sha256:95d2ce73a0759de5befdbec115514a555752e2f20070fbfe356801da6d0a2bd6
                - name: RELATED_IMAGE_jboss_eap_7_eap_xp2_openjdk11_openshift
                  value: registry.redhat.io/jboss-eap-7/eap-xp2-openjdk11-openshift-rhel8@sha256:647d092383a760edc083eafb2d7bc3208d6409097281bedbd5eaccde360e7e39
                - name: RELATED_IMAGE_jboss_eap_7_eap_xp2_openjdk11_openshift_ppc64le
                  value: registry.redhat.io/jboss-eap-7/eap-xp2-openj9-11-openshift-rhel8@sha256:95d2ce73a0759de5befdbec115514a555752e2f20070fbfe356801da6d0a2bd6
                - name: RELATED_IMAGE_jboss_eap_7_eap_xp2_openjdk11_openshift_s390x
                  value: registry.redhat.io/jboss-eap-7/eap-xp2-openj9-11-openshift-rhel8@sha256:95d2ce73a0759de5befdbec115514a555752e2f20070fbfe356801da6d0a2bd6
                - name: RELATED_IMAGE_keycloak
                  value: registry.redhat.io/rh-sso-7/sso74-openshift-rhel8@sha256:3154fd4f6ce080260de9d2b4c02930b67b57f1181f4e660f5ddfc9f6050420b1
                - name: RELATED_IMAGE_keycloak_ppc64le
                  value: registry.redhat.io/rh-sso-7/sso74-openj9-openshift-rhel8@sha256:ed11770a85ca95fc9cbb2cade539a67ff0e127cff73a89a017415800e032bd5b
                - name: RELATED_IMAGE_keycloak_s390x
                  value: registry.redhat.io/rh-sso-7/sso74-openj9-openshift-rhel8@sha256:ed11770a85ca95fc9cbb2cade539a67ff0e127cff73a89a017415800e032bd5b
                - name: RELATED_IMAGE_plugin_registry
                  value: docker.io/ibmcom/wazi-code-plugin@sha256:6560e097e63a55e9757526253098a4ed1523c71218f4231eb5f3cd342f9afa8a
                - name: RELATED_IMAGE_postgres
                  value: registry.redhat.io/rhel8/postgresql-96@sha256:32d73d737acec3daabc3f5c8236588454c8f57f7a2656ac7a50cf3a04f520b9b
                - name: RELATED_IMAGE_pvc_jobs
                  value: registry.redhat.io/ubi8/ubi-minimal@sha256:2f6b88c037c0503da7704bccd3fc73cb76324101af39ad28f16460e7bce98324
                - name: RELATED_IMAGE_rhscl_mongodb_36_rhel7
                  value: registry.redhat.io/rhscl/mongodb-36-rhel7@sha256:9f799d356d7d2e442bde9d401b720600fd9059a3d8eefea6f3b2ffa721c0dc73
                - name: RELATED_IMAGE_single_host_gateway
                  value: registry.redhat.io/codeready-workspaces/traefik-rhel8@sha256:0698a776c6ae2f08238cf011d69ac2c67f934b1e25ec38701a9e360430fd10f7
                - name: RELATED_IMAGE_single_host_gateway_config_sidecar
                  value: registry.redhat.io/codeready-workspaces/configbump-rhel8@sha256:db34b20374d99c2055612663a669a06f6dd0fc1fc19603761e993fd0870eddfe
                - name: WATCH_NAMESPACE
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.annotations['olm.targetNamespaces']
                image: registry.redhat.io/codeready-workspaces/crw-2-rhel8-operator@sha256:a24dc83d8cdd8af715f0c4f235dcba0736bf395b7029ceaed0b8a683da5f74e0
                imagePullPolicy: Always
                livenessProbe:
                  failureThreshold: 10
                  httpGet:
                    path: /healthz
                    port: 6789
                  initialDelaySeconds: 15
                  periodSeconds: 10
                  successThreshold: 1
                  timeoutSeconds: 5
                name: wazi-codeready-operator
                ports:
                - containerPort: 60000
                  name: metrics
                readinessProbe:
                  exec:
                    command:
                    - stat
                    - /tmp/operator-sdk-ready
                  failureThreshold: 10
                  initialDelaySeconds: 5
                  periodSeconds: 10
                  successThreshold: 1
                  timeoutSeconds: 5
                resources:
                  limits:
                    cpu: 500m
                    memory: 256Mi
                  requests:
                    cpu: 100m
                    memory: 64Mi
                securityContext:
                  allowPrivilegeEscalation: false
                  privileged: false
                  readOnlyRootFilesystem: false
                  runAsNonRoot: true
                  capabilities:
                    drop:
                    - ALL
              restartPolicy: Always
              serviceAccountName: wazi-codeready-operator
              terminationGracePeriodSeconds: 20
              hostIPC: false
              hostNetwork: false
              hostPID: false
      permissions:
      - rules:
        - apiGroups:
          - extensions
          resources:
          - ingresses
          verbs:
          - '*'
        - apiGroups:
          - batch
          resources:
          - jobs
          verbs:
          - '*'
        - apiGroups:
          - route.openshift.io
          resources:
          - routes
          - routes/custom-host
          verbs:
          - '*'
        - apiGroups:
          - rbac.authorization.k8s.io
          resources:
          - roles
          - rolebindings
          verbs:
          - '*'
        - apiGroups:
          - rbac.authorization.k8s.io
          resources:
          - clusterroles
          - clusterrolebindings
          verbs:
          - '*'
        - apiGroups:
          - ''
          resources:
          - pods
          - services
          - serviceaccounts
          - endpoints
          - persistentvolumeclaims
          - events
          - configmaps
          - secrets
          - pods/exec
          - pods/log
          verbs:
          - '*'
        - apiGroups:
          - ''
          resources:
          - namespaces
          verbs:
          - get
        - apiGroups:
          - apps
          resources:
          - deployments
          verbs:
          - '*'
        - apiGroups:
          - monitoring.coreos.com
          resources:
          - servicemonitors
          verbs:
          - get
          - create
        - apiGroups:
          - org.eclipse.che
          resources:
          - checlusters
          - checlusters/status
          - checlusters/finalizers
          verbs:
          - '*'
        - apiGroups:
          - metrics.k8s.io
          resources:
          - pods
          - nodes
          verbs:
          - get
          - list
          - watch
        - apiGroups:
          - che.eclipse.org
          resources:
          - kubernetesimagepullers
          verbs:
          - '*'
        - apiGroups:
          - operators.coreos.com
          resources:
          - subscriptions
          - clusterserviceversions
          - operatorgroups
          verbs:
          - '*'
        - apiGroups:
          - packages.operators.coreos.com
          resources:
          - packagemanifests
          verbs:
          - get
          - list
        serviceAccountName: wazi-codeready-operator
    strategy: deployment
  installModes:
  - supported: true
    type: OwnNamespace
  - supported: true
    type: SingleNamespace
  - supported: true
    type: MultiNamespace
  - supported: false
    type: AllNamespaces
  keywords:
  - workspaces
  - devtools
  - developer
  - ide
  - java
  - RHOCP
  links:
  - name: Product Page
    url: https://www.ibm.com/products/wazi-for-red-hat-codeready-workspaces
  - name: Documentation
    url: https://ibm.biz/wazi-crw-doc
  - name: Readme
    url: https://ibm.biz/wazi-crw-readme
  - name: License
    url: https://ibm.biz/wazi-crw-license
  - name: Support
    url: https://github.com/IBM/wazi-codeready-workspaces/issues
  maintainers:
  - name: IBM
  maturity: stable
  provider:
    name: IBM
  version: 1.2.5
  replaces: wazi-codeready-operator.v1.2.0
  relatedImages:
  - name: crw-2-rhel8-operator-a24dc83d8cdd8af715f0c4f235dcba0736bf395b7029ceaed0b8a683da5f74e0-annotation
    image: registry.redhat.io/codeready-workspaces/crw-2-rhel8-operator@sha256:a24dc83d8cdd8af715f0c4f235dcba0736bf395b7029ceaed0b8a683da5f74e0
  - name: codeready-operator
    image: registry.redhat.io/codeready-workspaces/crw-2-rhel8-operator@sha256:a24dc83d8cdd8af715f0c4f235dcba0736bf395b7029ceaed0b8a683da5f74e0
  - name: che_server
    image: registry.redhat.io/codeready-workspaces/server-rhel8@sha256:6635e8c160c8c73c00c9b05eccab08a4ff23d344f102ef0097a3798bf108217a
  - name: che_server_secure_exposer_jwt_proxy_image
    image: registry.redhat.io/codeready-workspaces/jwtproxy-rhel8@sha256:3f40bb8a2022545ac06a0b41cdb0239fdacfc34b37faffb21348a2041e96d0f2
  - name: che_workspace_plugin_broker_artifacts
    image: registry.redhat.io/codeready-workspaces/pluginbroker-artifacts-rhel8@sha256:cda306cb7e5c42faa6ab43218d39984d4955134b3ca9654968c28b05e0796c3a
  - name: che_workspace_plugin_broker_metadata
    image: registry.redhat.io/codeready-workspaces/pluginbroker-metadata-rhel8@sha256:0143a80b869620af08a0d60165dc9d13357a79e7243502832326cf053c17ee38
  - name: codeready_workspaces_machineexec
    image: registry.redhat.io/codeready-workspaces/machineexec-rhel8@sha256:19a8daf7f9adde981dcd588b0526fa7682111097849f60a9b0e81137bdde8f6c
  - name: codeready_workspaces_plugin_java11
    image: registry.redhat.io/codeready-workspaces/plugin-java11-rhel8@sha256:d93195134cef6351b1f9e3165fecc09f464dc99ab33d11b68fadd613d04d1636
  - name: codeready_workspaces_plugin_java11_openj9
    image: registry.redhat.io/codeready-workspaces/plugin-java11-openj9-rhel8@sha256:ee7c41053b4c8615886745566fc306dbf5bd1b1d367e525266477ae17a26673e
  - name: codeready_workspaces_plugin_java11_ppc64le
    image: registry.redhat.io/codeready-workspaces/plugin-java11-openj9-rhel8@sha256:ee7c41053b4c8615886745566fc306dbf5bd1b1d367e525266477ae17a26673e
  - name: codeready_workspaces_plugin_java11_s390x
    image: registry.redhat.io/codeready-workspaces/plugin-java11-openj9-rhel8@sha256:ee7c41053b4c8615886745566fc306dbf5bd1b1d367e525266477ae17a26673e
  - name: codeready_workspaces_plugin_java8
    image: registry.redhat.io/codeready-workspaces/plugin-java8-rhel8@sha256:ecaa9ddef5ca8db9552f1b5e66f7aacb19d72e488d718d8135b1e1d9f66a1a7a
  - name: codeready_workspaces_plugin_java8_openj9
    image: registry.redhat.io/codeready-workspaces/plugin-java8-openj9-rhel8@sha256:8d8948134405e45bdd895932afa85b6cf0fbfe4e9bb58ae9753d233ddf74672b
  - name: codeready_workspaces_plugin_java8_ppc64le
    image: registry.redhat.io/codeready-workspaces/plugin-java8-openj9-rhel8@sha256:8d8948134405e45bdd895932afa85b6cf0fbfe4e9bb58ae9753d233ddf74672b
  - name: codeready_workspaces_plugin_java8_s390x
    image: registry.redhat.io/codeready-workspaces/plugin-java8-openj9-rhel8@sha256:8d8948134405e45bdd895932afa85b6cf0fbfe4e9bb58ae9753d233ddf74672b
  - name: codeready_workspaces_plugin_kubernetes
    image: registry.redhat.io/codeready-workspaces/plugin-kubernetes-rhel8@sha256:cf1d0e24f8bae0f87cae0b1577dfd25e124437d78031d7076fabebb2dcf48d7f
  - name: codeready_workspaces_plugin_openshift
    image: registry.redhat.io/codeready-workspaces/plugin-openshift-rhel8@sha256:13ce6d8fdeeea0cc5a220ebe8abd2811c31bb2a424736759be9a6df15c8f77fd
  - name: codeready_workspaces_stacks_cpp
    image: registry.redhat.io/codeready-workspaces/stacks-cpp-rhel8@sha256:06cd3600c3b6c3dca0451b10b46961fd0db4140c7dddc4f9637984022f5cfc09
  - name: codeready_workspaces_stacks_dotnet
    image: registry.redhat.io/codeready-workspaces/stacks-dotnet-rhel8@sha256:ea77974b206c7d7abcad5cd32149f6bb669d3cf867135553af4d7dddd24ba9cf
  - name: codeready_workspaces_stacks_golang
    image: registry.redhat.io/codeready-workspaces/stacks-golang-rhel8@sha256:e01d32e58a55a552f0d35b9a6210b7a2cc8ed444f8ae54a24113dcc85f4d80db
  - name: codeready_workspaces_stacks_php
    image: registry.redhat.io/codeready-workspaces/stacks-php-rhel8@sha256:95c324ed660924bf76e10b461d75aa5be2a323f26e5033239f7cbfe1ec10b26e
  - name: codeready_workspaces_theia
    image: registry.redhat.io/codeready-workspaces/theia-rhel8@sha256:de36fdf140ba6367e6edf577d6dbaffa270e5e5ecf0890e498f5907f8287858f
  - name: codeready_workspaces_theia_endpoint
    image: registry.redhat.io/codeready-workspaces/theia-endpoint-rhel8@sha256:60c84fca55a997a6aab4ca07b8ff7d859948c1f525adeba2ae624c84fe059a56
  - name: devfile_registry
    image: docker.io/ibmcom/wazi-code-dev-file@sha256:fe366163f7e678ccac7c67b4ee86cd1d5be34b5287064c22447f5c58c1187333
  - name: jboss_eap_7_eap73_openjdk8_openshift_rhel7
    image: registry.redhat.io/jboss-eap-7/eap73-openjdk8-openshift-rhel7@sha256:d16cfe30eaf20a157cd5d5980a6c34f3fcbcfd2fd225e670a0138d81007dd919
  - name: jboss_eap_7_eap_xp2_openj9_11_openshift
    image: registry.redhat.io/jboss-eap-7/eap-xp2-openj9-11-openshift-rhel8@sha256:95d2ce73a0759de5befdbec115514a555752e2f20070fbfe356801da6d0a2bd6
  - name: jboss_eap_7_eap_xp2_openjdk11_openshift
    image: registry.redhat.io/jboss-eap-7/eap-xp2-openjdk11-openshift-rhel8@sha256:647d092383a760edc083eafb2d7bc3208d6409097281bedbd5eaccde360e7e39
  - name: jboss_eap_7_eap_xp2_openjdk11_openshift_ppc64le
    image: registry.redhat.io/jboss-eap-7/eap-xp2-openj9-11-openshift-rhel8@sha256:95d2ce73a0759de5befdbec115514a555752e2f20070fbfe356801da6d0a2bd6
  - name: jboss_eap_7_eap_xp2_openjdk11_openshift_s390x
    image: registry.redhat.io/jboss-eap-7/eap-xp2-openj9-11-openshift-rhel8@sha256:95d2ce73a0759de5befdbec115514a555752e2f20070fbfe356801da6d0a2bd6
  - name: keycloak
    image: registry.redhat.io/rh-sso-7/sso74-openshift-rhel8@sha256:3154fd4f6ce080260de9d2b4c02930b67b57f1181f4e660f5ddfc9f6050420b1
  - name: keycloak_ppc64le
    image: registry.redhat.io/rh-sso-7/sso74-openj9-openshift-rhel8@sha256:ed11770a85ca95fc9cbb2cade539a67ff0e127cff73a89a017415800e032bd5b
  - name: keycloak_s390x
    image: registry.redhat.io/rh-sso-7/sso74-openj9-openshift-rhel8@sha256:ed11770a85ca95fc9cbb2cade539a67ff0e127cff73a89a017415800e032bd5b
  - name: plugin_registry
    image: docker.io/ibmcom/wazi-code-plugin@sha256:6560e097e63a55e9757526253098a4ed1523c71218f4231eb5f3cd342f9afa8a
  - name: postgres
    image: registry.redhat.io/rhel8/postgresql-96@sha256:32d73d737acec3daabc3f5c8236588454c8f57f7a2656ac7a50cf3a04f520b9b
  - name: pvc_jobs
    image: registry.redhat.io/ubi8/ubi-minimal@sha256:2f6b88c037c0503da7704bccd3fc73cb76324101af39ad28f16460e7bce98324
  - name: rhscl_mongodb_36_rhel7
    image: registry.redhat.io/rhscl/mongodb-36-rhel7@sha256:9f799d356d7d2e442bde9d401b720600fd9059a3d8eefea6f3b2ffa721c0dc73
  - name: single_host_gateway
    image: registry.redhat.io/codeready-workspaces/traefik-rhel8@sha256:0698a776c6ae2f08238cf011d69ac2c67f934b1e25ec38701a9e360430fd10f7
  - name: single_host_gateway_config_sidecar
    image: registry.redhat.io/codeready-workspaces/configbump-rhel8@sha256:db34b20374d99c2055612663a669a06f6dd0fc1fc19603761e993fd0870eddfe
